<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Telco Recommendation API Documentation</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      line-height: 1.6;
      color: #333;
      background: #f5f7fa;
    }

    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 2rem 0;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .header .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
    }

    .header h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }

    .header p {
      font-size: 1.1rem;
      opacity: 0.9;
    }

    .badge {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      background: rgba(255,255,255,0.2);
      border-radius: 20px;
      font-size: 0.85rem;
      margin: 0.5rem 0.5rem 0 0;
    }

    .badge.new {
      background: #10b981;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }

    .sidebar {
      position: fixed;
      left: 0;
      top: 140px;
      width: 280px;
      height: calc(100vh - 140px);
      background: white;
      border-right: 1px solid #e5e7eb;
      overflow-y: auto;
      padding: 2rem 1rem;
    }

    .sidebar h3 {
      font-size: 0.875rem;
      text-transform: uppercase;
      color: #6b7280;
      margin-bottom: 1rem;
      font-weight: 600;
    }

    .sidebar ul {
      list-style: none;
      margin-bottom: 2rem;
    }

    .sidebar li {
      margin-bottom: 0.5rem;
    }

    .sidebar a {
      color: #374151;
      text-decoration: none;
      display: block;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      transition: all 0.2s;
      font-size: 0.95rem;
    }

    .sidebar a:hover {
      background: #f3f4f6;
      color: #667eea;
    }

    .content {
      margin-left: 300px;
      padding: 2rem;
    }

    .section {
      background: white;
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .section h2 {
      color: #1f2937;
      margin-bottom: 1rem;
      padding-bottom: 0.75rem;
      border-bottom: 2px solid #e5e7eb;
      font-size: 1.75rem;
    }

    .section h3 {
      color: #374151;
      margin: 2rem 0 1rem 0;
      font-size: 1.35rem;
    }

    .endpoint {
      background: #f9fafb;
      border-left: 4px solid #667eea;
      padding: 1.5rem;
      margin: 1.5rem 0;
      border-radius: 8px;
    }

    .endpoint-header {
      display: flex;
      align-items: center;
      margin-bottom: 1rem;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .method {
      display: inline-block;
      padding: 0.4rem 1rem;
      border-radius: 6px;
      font-weight: 600;
      font-size: 0.85rem;
      letter-spacing: 0.5px;
    }

    .method.get { background: #10b981; color: white; }
    .method.post { background: #3b82f6; color: white; }
    .method.put { background: #f59e0b; color: white; }
    .method.delete { background: #ef4444; color: white; }

    .endpoint-path {
      font-family: 'Courier New', monospace;
      font-size: 1.1rem;
      color: #374151;
      font-weight: 500;
    }

    .auth-badge {
      display: inline-block;
      padding: 0.3rem 0.75rem;
      background: #fee2e2;
      color: #dc2626;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .auth-badge.public {
      background: #d1fae5;
      color: #059669;
    }

    .code-block {
      background: #1f2937;
      color: #f3f4f6;
      padding: 1.5rem;
      border-radius: 8px;
      overflow-x: auto;
      margin: 1rem 0;
      font-family: 'Courier New', monospace;
      font-size: 0.9rem;
      line-height: 1.6;
    }

    .code-block .key { color: #60a5fa; }
    .code-block .string { color: #34d399; }
    .code-block .number { color: #fbbf24; }
    .code-block .boolean { color: #f87171; }

    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
    }

    table th,
    table td {
      padding: 0.75rem;
      text-align: left;
      border-bottom: 1px solid #e5e7eb;
    }

    table th {
      background: #f9fafb;
      font-weight: 600;
      color: #374151;
      font-size: 0.9rem;
    }

    table td {
      font-size: 0.9rem;
    }

    table code {
      background: #f3f4f6;
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-size: 0.85rem;
      color: #dc2626;
    }

    .info-box {
      background: #eff6ff;
      border-left: 4px solid #3b82f6;
      padding: 1rem 1.5rem;
      border-radius: 6px;
      margin: 1.5rem 0;
    }

    .info-box.warning {
      background: #fef3c7;
      border-left-color: #f59e0b;
    }

    .info-box.success {
      background: #d1fae5;
      border-left-color: #10b981;
    }

    .info-box.new {
      background: #dbeafe;
      border-left-color: #3b82f6;
    }

    .info-box strong {
      display: block;
      margin-bottom: 0.5rem;
      color: #1f2937;
    }

    .try-it-btn {
      background: #667eea;
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      margin-top: 1rem;
      transition: all 0.2s;
    }

    .try-it-btn:hover {
      background: #5568d3;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }

    .category-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin: 1.5rem 0;
    }

    .category-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 1.5rem;
      border-radius: 10px;
      text-align: center;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    .category-card h4 {
      font-size: 1.25rem;
      margin-bottom: 0.5rem;
    }

    .category-card p {
      font-size: 0.9rem;
      opacity: 0.9;
    }

    @media (max-width: 768px) {
      .sidebar {
        display: none;
      }
      
      .content {
        margin-left: 0;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <div class="container">
      <h1>üì± Telco Recommendation API</h1>
      <p>Complete API Documentation for Telco Product Recommendation System</p>
      <div>
        <span class="badge">v2.1</span>
        <span class="badge">REST API</span>
        <span class="badge new">üîê OTP Auth</span>
        <span class="badge">40+ Products</span>
        <span class="badge">JWT Token</span>
      </div>
    </div>
  </div>

  <div class="sidebar">
    <h3>Navigation</h3>
    <ul>
      <li><a href="#overview">üìã Overview</a></li>
      <li><a href="#whats-new">‚ú® What's New</a></li>
      <li><a href="#authentication">üîê Authentication</a></li>
      <li><a href="#response-format">üìÑ Response Format</a></li>
    </ul>
    
    <h3>Endpoints</h3>
    <ul>
      <li><a href="#auth-endpoints">üîë Auth Endpoints</a></li>
      <li><a href="#product-endpoints">üì¶ Product Endpoints</a></li>
      <li><a href="#recommendation-endpoints">üéØ Recommendations</a></li>
    </ul>
    
    <h3>Resources</h3>
    <ul>
      <li><a href="#sms-gateway">üì± SMS Gateway</a></li>
      <li><a href="#error-handling">‚ùå Error Handling</a></li>
      <li><a href="#testing">üß™ Testing Guide</a></li>
    </ul>
  </div>

  <div class="content">
    <!-- Overview Section -->
    <div class="section" id="overview">
      <h2>üìã Overview</h2>
      <p>Telco Recommendation API adalah backend system untuk aplikasi rekomendasi produk telekomunikasi berbasis perilaku pelanggan menggunakan Machine Learning.</p>
      
      <h3>Base URLs</h3>
      <div class="code-block">Development: http://localhost:5000
Production: https://your-railway-url.up.railway.app</div>

      <h3>Product Categories</h3>
      <div class="category-grid">
        <div class="category-card">
          <h4>üìä Data</h4>
          <p>10 produk</p>
        </div>
        <div class="category-card">
          <h4>üìû Voice</h4>
          <p>6 produk</p>
        </div>
        <div class="category-card">
          <h4>üåç Roaming</h4>
          <p>4 produk</p>
        </div>
        <div class="category-card">
          <h4>üé¨ Streaming</h4>
          <p>7 produk</p>
        </div>
        <div class="category-card">
          <h4>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family</h4>
          <p>3 produk</p>
        </div>
        <div class="category-card">
          <h4>üéÅ Combo</h4>
          <p>10 produk total</p>
        </div>
      </div>

      <div class="info-box success">
        <strong>‚úÖ Total Products: 40</strong>
        Database sekarang memiliki 40 produk lengkap yang aligned dengan ML target offers.
      </div>
    </div>

    <!-- What's New Section -->
    <div class="section" id="whats-new">
      <h2>‚ú® What's New in v2.1</h2>
      
      <div class="info-box new">
        <strong>üîê OTP Authentication (NEW!)</strong>
        PIN-based authentication diganti dengan OTP (One-Time Password) yang lebih secure.
        <br><br>
        ‚Ä¢ 6-digit OTP code<br>
        ‚Ä¢ 5 minutes expiry<br>
        ‚Ä¢ 3 maximum attempts<br>
        ‚Ä¢ 60 seconds cooldown between requests<br>
        ‚Ä¢ SMS-ready (console logging for development)
      </div>

      <div class="info-box success">
        <strong>üì¶ 40 Products Available</strong>
        Product catalog diperluas dari 16 menjadi 40 products:<br>
        ‚Ä¢ Data Booster: 10 products<br>
        ‚Ä¢ Voice Bundle: 6 products<br>
        ‚Ä¢ Roaming Pass: 4 products<br>
        ‚Ä¢ Streaming Partner Pack: 7 products<br>
        ‚Ä¢ Family Plan: 3 products<br>
        ‚Ä¢ Device Upgrade: 2 products<br>
        ‚Ä¢ Retention Offer: 2 products<br>
        ‚Ä¢ Top-up Promo: 2 products<br>
        ‚Ä¢ General Offer: 4 products
      </div>

      <h3>Migration Notes</h3>
      <p><strong>Breaking Changes:</strong></p>
      <ul style="margin-left: 2rem; margin-top: 0.5rem;">
        <li><code>POST /api/auth/register</code> ‚Üí Removed</li>
        <li><code>POST /api/auth/login</code> ‚Üí Removed</li>
        <li><code>POST /api/auth/change-pin</code> ‚Üí Removed</li>
      </ul>
      <br>
      <p><strong>New Endpoints:</strong></p>
      <ul style="margin-left: 2rem; margin-top: 0.5rem;">
        <li><code>POST /api/auth/request-otp</code> ‚Üí Request OTP</li>
        <li><code>POST /api/auth/verify-otp</code> ‚Üí Verify & Login</li>
        <li><code>GET /api/auth/otp-config</code> ‚Üí Get OTP Config</li>
      </ul>
    </div>

    <!-- Authentication Section -->
    <div class="section" id="authentication">
      <h2>üîê Authentication</h2>
      <p>API menggunakan <strong>OTP (One-Time Password)</strong> untuk authentication, kemudian <strong>JWT (JSON Web Token)</strong> untuk session management.</p>
      
      <div class="info-box">
        <strong>Authentication Flow:</strong>
        1. User memasukkan nomor telepon<br>
        2. Backend generate & kirim OTP (6 digit)<br>
        3. User memasukkan OTP<br>
        4. Backend verify OTP<br>
        5. Backend issue JWT token (valid 7 days)
      </div>

      <h3>OTP Configuration</h3>
      <table>
        <tr>
          <th>Parameter</th>
          <th>Value</th>
          <th>Description</th>
        </tr>
        <tr>
          <td><code>OTP Length</code></td>
          <td>6 digits</td>
          <td>Format OTP</td>
        </tr>
        <tr>
          <td><code>Expiry Time</code></td>
          <td>5 minutes</td>
          <td>OTP valid duration</td>
        </tr>
        <tr>
          <td><code>Max Attempts</code></td>
          <td>3 times</td>
          <td>Failed verification limit</td>
        </tr>
        <tr>
          <td><code>Resend Cooldown</code></td>
          <td>60 seconds</td>
          <td>Wait time before resend</td>
        </tr>
      </table>

      <h3>JWT Header Format</h3>
      <div class="code-block">Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...</div>
    </div>

    <!-- Response Format Section -->
    <div class="section" id="response-format">
      <h2>üìÑ Response Format</h2>
      
      <h3>Success Response</h3>
      <div class="code-block">{
  <span class="key">"status"</span>: <span class="string">"success"</span>,
  <span class="key">"message"</span>: <span class="string">"Description of action"</span>,
  <span class="key">"data"</span>: { ... }
}</div>

      <h3>Error Response</h3>
      <div class="code-block">{
  <span class="key">"status"</span>: <span class="string">"error"</span>,
  <span class="key">"message"</span>: <span class="string">"Error description"</span>,
  <span class="key">"statusCode"</span>: <span class="number">400</span>
}</div>
    </div>

    <!-- Auth Endpoints Section -->
    <div class="section" id="auth-endpoints">
      <h2>üîë Authentication Endpoints</h2>

      <!-- Request OTP Endpoint -->
      <div class="endpoint">
        <div class="endpoint-header">
          <span class="method post">POST</span>
          <span class="endpoint-path">/api/auth/request-otp</span>
          <span class="auth-badge public">Public</span>
        </div>
        <p><strong>Request OTP for login/register</strong></p>
        
        <h4>Request Body:</h4>
        <div class="code-block">{
  <span class="key">"phoneNumber"</span>: <span class="string">"081234567890"</span>,
  <span class="key">"name"</span>: <span class="string">"John Doe"</span> // Optional, untuk user baru
}</div>

        <h4>Success Response (200):</h4>
        <div class="code-block">{
  <span class="key">"status"</span>: <span class="string">"success"</span>,
  <span class="key">"message"</span>: <span class="string">"OTP sent to your phone"</span>,
  <span class="key">"data"</span>: {
    <span class="key">"phoneNumber"</span>: <span class="string">"081234567890"</span>,
    <span class="key">"isNewUser"</span>: <span class="boolean">false</span>,
    <span class="key">"expiresIn"</span>: <span class="number">300</span>, // seconds
    <span class="key">"canResendIn"</span>: <span class="number">60</span> // seconds
  }
}</div>

        <div class="info-box warning">
          <strong>‚ö†Ô∏è Development Mode:</strong>
          OTP code akan di-print di console server. Di production, OTP dikirim via SMS gateway.
        </div>

        <button class="try-it-btn" onclick="copyCurl('request-otp')">üìã Copy cURL</button>
      </div>

      <!-- Verify OTP Endpoint -->
      <div class="endpoint">
        <div class="endpoint-header">
          <span class="method post">POST</span>
          <span class="endpoint-path">/api/auth/verify-otp</span>
          <span class="auth-badge public">Public</span>
        </div>
        <p><strong>Verify OTP and login</strong></p>
        
        <h4>Request Body:</h4>
        <div class="code-block">{
  <span class="key">"phoneNumber"</span>: <span class="string">"081234567890"</span>,
  <span class="key">"otp"</span>: <span class="string">"123456"</span>
}</div>

        <h4>Success Response (200):</h4>
        <div class="code-block">{
  <span class="key">"status"</span>: <span class="string">"success"</span>,
  <span class="key">"message"</span>: <span class="string">"Login successful"</span>,
  <span class="key">"data"</span>: {
    <span class="key">"user"</span>: {
      <span class="key">"id"</span>: <span class="string">"65abc123..."</span>,
      <span class="key">"phoneNumber"</span>: <span class="string">"081234567890"</span>,
      <span class="key">"name"</span>: <span class="string">"John Doe"</span>,
      <span class="key">"role"</span>: <span class="string">"user"</span>,
      <span class="key">"isNewUser"</span>: <span class="boolean">false</span>,
      <span class="key">"isVerified"</span>: <span class="boolean">true</span>
    },
    <span class="key">"token"</span>: <span class="string">"eyJhbGciOiJIUzI1NiIs..."</span>
  }
}</div>
        <button class="try-it-btn" onclick="copyCurl('verify-otp')">üìã Copy cURL</button>
      </div>

      <!-- Get Profile Endpoint -->
      <div class="endpoint">
        <div class="endpoint-header">
          <span class="method get">GET</span>
          <span class="endpoint-path">/api/auth/profile</span>
          <span class="auth-badge">Requires Auth</span>
        </div>
        <p><strong>Get user profile</strong></p>
        
        <h4>Headers:</h4>
        <div class="code-block">Authorization: Bearer YOUR_TOKEN_HERE</div>

        <h4>Success Response (200):</h4>
        <div class="code-block">{
  <span class="key">"status"</span>: <span class="string">"success"</span>,
  <span class="key">"data"</span>: {
    <span class="key">"_id"</span>: <span class="string">"65abc..."</span>,
    <span class="key">"phoneNumber"</span>: <span class="string">"081234567890"</span>,
    <span class="key">"name"</span>: <span class="string">"John Doe"</span>,
    <span class="key">"isVerified"</span>: <span class="boolean">true</span>,
    <span class="key">"preferences"</span>: {
      <span class="key">"usageType"</span>: <span class="string">"data"</span>,
      <span class="key">"budget"</span>: <span class="string">"medium"</span>
    }
  }
}</div>
      </div>

      <!-- OTP Config Endpoint -->
      <div class="endpoint">
        <div class="endpoint-header">
          <span class="method get">GET</span>
          <span class="endpoint-path">/api/auth/otp-config</span>
          <span class="auth-badge public">Public</span>
        </div>
        <p><strong>Get OTP system configuration</strong></p>
        
        <h4>Success Response (200):</h4>
        <div class="code-block">{
  <span class="key">"status"</span>: <span class="string">"success"</span>,
  <span class="key">"message"</span>: <span class="string">"OTP configuration retrieved"</span>,
  <span class="key">"data"</span>: {
    <span class="key">"otpLength"</span>: <span class="number">6</span>,
    <span class="key">"expiryMinutes"</span>: <span class="number">5</span>,
    <span class="key">"maxAttempts"</span>: <span class="number">3</span>,
    <span class="key">"resendCooldownSeconds"</span>: <span class="number">60</span>
  }
}</div>
      </div>
    </div>

    <!-- Product Endpoints Section -->
    <div class="section" id="product-endpoints">
      <h2>üì¶ Product Endpoints</h2>

      <!-- Get All Products -->
      <div class="endpoint">
        <div class="endpoint-header">
          <span class="method get">GET</span>
          <span class="endpoint-path">/api/products</span>
          <span class="auth-badge public">Public</span>
        </div>
        <p><strong>Get all products with filtering and pagination</strong></p>
        
        <h4>Query Parameters:</h4>
        <table>
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Default</th>
            <th>Description</th>
          </tr>
          <tr>
            <td><code>page</code></td>
            <td>number</td>
            <td>1</td>
            <td>Page number</td>
          </tr>
          <tr>
            <td><code>limit</code></td>
            <td>number</td>
            <td>10</td>
            <td>Items per page (max 100)</td>
          </tr>
          <tr>
            <td><code>category</code></td>
            <td>string</td>
            <td>-</td>
            <td>data, voice, roaming, streaming, combo, device</td>
          </tr>
          <tr>
            <td><code>search</code></td>
            <td>string</td>
            <td>-</td>
            <td>Search in name/description</td>
          </tr>
          <tr>
            <td><code>minPrice</code></td>
            <td>number</td>
            <td>-</td>
            <td>Minimum price filter</td>
          </tr>
          <tr>
            <td><code>maxPrice</code></td>
            <td>number</td>
            <td>-</td>
            <td>Maximum price filter</td>
          </tr>
        </table>

        <h4>Example Requests:</h4>
        <div class="code-block">GET /api/products
GET /api/products?category=data&limit=20
GET /api/products?minPrice=50000&maxPrice=150000
GET /api/products?search=unlimited</div>

        <div class="info-box success">
          <strong>üìä 40 Products Available</strong>
          Database memiliki 40 products spread across 9 target offers, siap untuk recommendation system.
        </div>

        <button class="try-it-btn" onclick="window.open('http://localhost:5000/api/products', '_blank')">üöÄ Try It</button>
      </div>

      <!-- Get Categories -->
      <div class="endpoint">
        <div class="endpoint-header">
          <span class="method get">GET</span>
          <span class="endpoint-path">/api/products/categories/list</span>
          <span class="auth-badge public">Public</span>
        </div>
        <p><strong>Get all product categories</strong></p>
        
        <h4>Success Response (200):</h4>
        <div class="code-block">{
  <span class="key">"status"</span>: <span class="string">"success"</span>,
  <span class="key">"data"</span>: [
    <span class="string">"data"</span>,
    <span class="string">"voice"</span>,
    <span class="string">"roaming"</span>,
    <span class="string">"streaming"</span>,
    <span class="string">"combo"</span>,
    <span class="string">"device"</span>
  ]
}</div>
      </div>
    </div>

    <!-- Recommendation Endpoints -->
    <div class="section" id="recommendation-endpoints">
      <h2>üéØ Recommendation Endpoints</h2>

      <div class="endpoint">
        <div class="endpoint-header">
          <span class="method get">GET</span>
          <span class="endpoint-path">/api/recommendations</span>
          <span class="auth-badge">Requires Auth</span>
        </div>
        <p><strong>Get personalized recommendations</strong></p>
        
        <h4>Query Parameters:</h4>
        <table>
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Options</th>
          </tr>
          <tr>
            <td><code>algorithm</code></td>
            <td>string</td>
            <td>collaborative, content-based, hybrid (default)</td>
          </tr>
          <tr>
            <td><code>limit</code></td>
            <td>number</td>
            <td>1-20 (default: 5)</td>
          </tr>
        </table>

        <div class="info-box warning">
          <strong>‚ö†Ô∏è ML Model Status:</strong>
          Currently using mock recommendations. Will automatically switch to real ML predictions when model is deployed.
        </div>
      </div>
    </div>

    <!-- SMS Gateway Section -->
    <div class="section" id="sms-gateway">
      <h2>üì± SMS Gateway Integration</h2>
      <h3>üí∞ Cost Comparison</h3>
      <table>
        <tr>
          <th>Provider</th>
          <th>Cost per SMS (Indonesia)</th>
          <th>Free Trial</th>
          <th>Rating</th>
        </tr>
        <tr>
          <td><strong>Twilio</strong></td>
          <td>~$0.045 (¬±Rp 700)</td>
          <td>$15 credit</td>
          <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Most reliable</td>
        </tr>
        <tr>
          <td><strong>Vonage/Nexmo</strong></td>
          <td>~$0.04 (¬±Rp 600)</td>
          <td>‚Ç¨2 credit</td>
          <td>‚≠ê‚≠ê‚≠ê‚≠ê</td>
        </tr>
        <tr>
          <td><strong>AWS SNS</strong></td>
          <td>~$0.03 (¬±Rp 450)</td>
          <td>100 SMS/month free</td>
          <td>‚≠ê‚≠ê‚≠ê‚≠ê</td>
        </tr>
        <tr>
          <td><strong>MessageBird</strong></td>
          <td>~$0.04 (¬±Rp 600)</td>
          <td>‚Ç¨10 credit</td>
          <td>‚≠ê‚≠ê‚≠ê‚≠ê</td>
        </tr>
      </table>

      <h3>üéØ Recommendations</h3>
      <div class="info-box">
        <strong>For Development/Testing:</strong><br>
        ‚Ä¢ Use console logging (current implementation)<br>
        ‚Ä¢ No cost, easy debugging<br><br>
        
        <strong>For Production (Budget):</strong><br>
        ‚Ä¢ AWS SNS: 100 SMS gratis/bulan<br>
        ‚Ä¢ After that: Rp 450/SMS<br><br>
        
        <strong>For Production (Professional):</strong><br>
        ‚Ä¢ Twilio: Most reliable, best documentation<br>
        ‚Ä¢ ~Rp 700/SMS
      </div>

      <h3>üí° FREE Alternatives</h3>
      <ul style="margin-left: 2rem;">
        <li><strong>Email OTP</strong> - NodeMailer/SendGrid (gratis)</li>
        <li><strong>WhatsApp Business API</strong> - Cheaper after approval</li>
        <li><strong>Local SMS Gateway</strong> - Buy GSM modem (~Rp 500k), unlimited</li>
      </ul>

      <h3>üîß Integration Example (Twilio)</h3>
      <div class="code-block">// Install: npm install twilio
        const twilio = require('twilio');
        const client = twilio(
        process.env.TWILIO_ACCOUNT_SID,
        process.env.TWILIO_AUTH_TOKEN
        );
        await client.messages.create({
        body: Your OTP: ${otp}. Valid for 5 minutes.,
        from: process.env.TWILIO_PHONE_NUMBER,
        to: phoneNumber
        });
      </div>
    </div>

    <!-- Error Handling Section -->
    <div class="section" id="error-handling">
      <h2>‚ùå Error Handling</h2>
      
      <h3>HTTP Status Codes</h3>
      <table>
        <tr>
          <th>Code</th>
          <th>Meaning</th>
          <th>When It Happens</th>
        </tr>
        <tr>
          <td><code>200</code></td>
          <td>OK</td>
          <td>Request successful</td>
        </tr>
        <tr>
          <td><code>201</code></td>
          <td>Created</td>
          <td>Resource created</td>
        </tr>
        <tr>
          <td><code>400</code></td>
          <td>Bad Request</td>
          <td>Invalid input / validation error / OTP expired</td>
        </tr>
        <tr>
          <td><code>401</code></td>
          <td>Unauthorized</td>
          <td>Missing/invalid token / Invalid OTP</td>
        </tr>
        <tr>
          <td><code>404</code></td>
          <td>Not Found</td>
          <td>Resource doesn't exist</td>
        </tr>
        <tr>
          <td><code>429</code></td>
          <td>Too Many Requests</td>
          <td>Rate limit exceeded / OTP cooldown</td>
        </tr>
      </table>

      <h3>OTP-Specific Errors</h3>
      <div class="code-block">// Too many OTP requests
        {
        <span class="key">"status"</span>: <span class="string">"error"</span>,
        <span class="key">"message"</span>: <span class="string">"Please wait 45 seconds before requesting a new OTP"</span>,
        <span class="key">"statusCode"</span>: <span class="number">429</span>
        }
        // Invalid OTP
        {
        <span class="key">"status"</span>: <span class="string">"error"</span>,
        <span class="key">"message"</span>: <span class="string">"Invalid OTP. 2 attempt(s) remaining"</span>,
        <span class="key">"statusCode"</span>: <span class="number">401</span>
        }
        // OTP expired
        {
        <span class="key">"status"</span>: <span class="string">"error"</span>,
        <span class="key">"message"</span>: <span class="string">"OTP has expired. Please request a new OTP"</span>,
        <span class="key">"statusCode"</span>: <span class="number">400</span>
        }
      </div>
    </div>

    <!-- Testing Guide Section -->
    <div class="section" id="testing">
      <h2>üß™ Testing Guide</h2>
      
      <h3>Quick Start</h3>
      <div class="code-block"># 1. Seed database with 40 products
        node seed-data-complete.js
        2. Start server
        npm run dev
        3. Test OTP flow
        node test-otp.js
      </div>

      <h3>Test Accounts</h3>
      <div class="info-box success">
        <strong>Test Phone Numbers:</strong><br>
        ‚Ä¢ 081234567890 (Admin)<br>
        ‚Ä¢ 081234567891 (User)<br>
        ‚Ä¢ 081234567892 (Heavy Data User)<br><br>
        <strong>Note:</strong> Use OTP authentication (code will be in console)
      </div>

      <h3>Manual Testing</h3>
      <div class="code-block"># 1. Request OTP
        curl -X POST http://localhost:5000/api/auth/request-otp 
        -H "Content-Type: application/json" 
        -d '{"phoneNumber":"081234567890"}'
        2. Check console for OTP code (e.g., 123456)
        3. Verify OTP
        curl -X POST http://localhost:5000/api/auth/verify-otp 
        -H "Content-Type: application/json" 
        -d '{"phoneNumber":"081234567890","otp":"123456"}'
        4. Use token for authenticated requests
        curl -X GET http://localhost:5000/api/recommendations 
        -H "Authorization: Bearer YOUR_TOKEN_HERE"
      </div>

      <h3>Expected Console Output (Development)</h3>
      <div class="code-block">üì± Sending OTP to: 081234567890
        üî¢ OTP Code: 123456
        ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
        ‚ïë     OTP VERIFICATION CODE          ‚ïë
        ‚ïë                                    ‚ïë
        ‚ïë     Phone: 081234567890            ‚ïë
        ‚ïë     Code:  123456                  ‚ïë
        ‚ïë     Valid: 5 minutes               ‚ïë
        ‚ïë                                    ‚ïë
        ‚ïë  (This is a mock - integrate SMS)  ‚ïë
        ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
      </div>
    </div>

    <!-- Footer -->
    <div class="section">
      <h2>üìû Support & Contact</h2>
      <p><strong>Backend Developer:</strong> Muhammad Ariq Fadhil (F284D5Y1219)</p>
      <p><strong>Team:</strong> A25-CS024 - Asah Dicoding x Accenture</p>
      <p><strong>Project:</strong> Telco Product Recommendation System</p>
      <p style="margin-top: 1.5rem; color: #6b7280;">
        <strong>Version:</strong> 2.1 | <strong>Last Updated:</strong> December 2024
      </p>

      <div class="info-box" style="margin-top: 2rem;">
        <strong>üîó Quick Links:</strong><br>
        ‚Ä¢ GitHub: [Your Repository]<br>
        ‚Ä¢ Production API: [Railway URL]<br>
        ‚Ä¢ ML Model: [Model Endpoint]<br>
        ‚Ä¢ Status Page: GET /
      </div>
    </div>

    </div>
    <script>
      // Smooth scrolling for navigation
      document.querySelectorAll('.sidebar a').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        });
      });

      // Copy cURL commands
      function copyCurl(type) {
        let command = '';
        
        if (type === 'request-otp') {
          command = `curl -X POST http://localhost:5000/api/auth/request-otp \\
    -H "Content-Type: application/json" \\
    -d '{"phoneNumber":"081234567890","name":"Test User"}'`;
        } else if (type === 'verify-otp') {
          command = `curl -X POST http://localhost:5000/api/auth/verify-otp \\
    -H "Content-Type: application/json" \\
    -d '{"phoneNumber":"081234567890","otp":"123456"}'`;
        }
        
        navigator.clipboard.writeText(command).then(() => {
          alert('‚úÖ cURL command copied to clipboard!');
        }).catch(() => {
          alert('Failed to copy. Command:\n\n' + command);
        });
      }
    </script>
</body>
</html</parameter>